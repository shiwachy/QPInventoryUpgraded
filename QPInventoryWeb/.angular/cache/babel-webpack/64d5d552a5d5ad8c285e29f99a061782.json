{"ast":null,"code":"import { Category } from './category.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../shared/main.service\";\nimport * as i2 from \"../shared/dm.service\";\nimport * as i3 from \"../shared/action.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/forms\";\n\nfunction CategoryComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(0, \"div\", 28);\n    i0.ɵɵelementStart(1, \"input\", 29);\n    i0.ɵɵlistener(\"input\", function CategoryComponent_div_7_Template_input_input_1_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.onInputChange();\n    })(\"ngModelChange\", function CategoryComponent_div_7_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.searchInput = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.searchInput);\n  }\n}\n\nfunction CategoryComponent_button_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function CategoryComponent_button_9_Template_button_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const ele_r8 = restoredCtx.$implicit;\n      const ctx_r9 = i0.ɵɵnextContext();\n      return ctx_r9.onClickCat(ele_r8);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ele_r8 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ele_r8.CategoryName, \" \");\n  }\n}\n\nfunction CategoryComponent_div_35_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵelementStart(1, \"button\", 32);\n    i0.ɵɵlistener(\"click\", function CategoryComponent_div_35_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return ctx_r11.onClickSaveCat();\n    });\n    i0.ɵɵtext(2, \"Save\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CategoryComponent_div_36_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵelementStart(1, \"button\", 32);\n    i0.ɵɵlistener(\"click\", function CategoryComponent_div_36_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return ctx_r13.onClickUpdate();\n    });\n    i0.ɵɵtext(2, \"Update\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CategoryComponent_option_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\");\n    i0.ɵɵelementStart(1, \"li\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ele_r15 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ele_r15.CategoryName);\n  }\n}\n\nexport let CategoryComponent = /*#__PURE__*/(() => {\n  class CategoryComponent {\n    constructor(mainService, dmService, actionService, router) {\n      this.mainService = mainService;\n      this.dmService = dmService;\n      this.actionService = actionService;\n      this.router = router;\n      this.catInfo = new Category();\n      this.catList = this.dmService.catList;\n      this.searchInput = \"\";\n      this.actionBtnStatus = false;\n      this.catDetail = new Category();\n      this.showSearchbar = false;\n    }\n\n    ngOnInit() {\n      this.getCatList();\n    }\n\n    openModal(id) {\n      this.actionService.openModal(id);\n    }\n\n    closeModal(id) {\n      this.actionService.closeModal(id);\n    }\n\n    onClickSaveCat() {\n      //this.mainService.postCategory(this.catInfo);\n      this.mainService.postCategory(this.catInfo).subscribe(res => {\n        console.log(res), this.catList.push(res);\n      });\n      this.catInfo = new Category();\n      this.actionService.closeModal(\"categoryModal\"); //This is the id of the modal\n    }\n\n    getCatList() {\n      this.mainService.getCategoryList();\n    }\n\n    onClickDelete() {\n      this.mainService.deleteCategory(this.catInfo.CategoryId);\n      this.catInfo = new Category();\n      this.actionService.closeModal(\"categoryModal\");\n    }\n\n    onClickUpdate() {\n      this.mainService.updateCategory(this.catInfo);\n      this.catInfo = new Category();\n      this.actionService.closeModal(\"categoryModal\");\n    }\n\n    onCatNameInputChange() {\n      const filteredCat = this.catList.find(x => x.CategoryName === this.catInfo.CategoryName);\n\n      if (filteredCat != undefined) {\n        this.actionBtnStatus = true;\n        this.catInfo.CategoryId = filteredCat.CategoryId;\n        this.catInfo.CategoryName = filteredCat.CategoryName;\n        this.catInfo.Link = filteredCat.Link;\n        this.catInfo.Description = filteredCat.Description;\n      } else {\n        this.actionBtnStatus = false;\n        this.catInfo.CategoryId = 0;\n        this.catInfo.Link = \"\";\n        this.catInfo.Description = \"\";\n      }\n    }\n\n    onClickCat(obj) {\n      console.log(obj);\n      this.actionService.sendCatDetail(obj);\n      this.mainService.getHyperlinksByCatId(obj.CategoryId);\n    }\n\n    onSearchIconClick() {\n      this.showSearchbar = true;\n    }\n\n    onInputChange() {\n      if (this.searchInput == \"\") {\n        this.catList = new Array();\n        this.catList = this.dmService.catList;\n      } else {\n        this.catList = new Array();\n        this.catList = this.dmService.catList.filter(x => x.CategoryName.match(this.searchInput));\n      }\n    }\n\n  }\n\n  CategoryComponent.ɵfac = function CategoryComponent_Factory(t) {\n    return new (t || CategoryComponent)(i0.ɵɵdirectiveInject(i1.MainService), i0.ɵɵdirectiveInject(i2.DMService), i0.ɵɵdirectiveInject(i3.ActionService), i0.ɵɵdirectiveInject(i4.Router));\n  };\n\n  CategoryComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CategoryComponent,\n    selectors: [[\"app-category\"]],\n    decls: 39,\n    vars: 8,\n    consts: [[1, \"category\"], [1, \"cat-head\"], [\"id\", \"searchIcon\", 3, \"click\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"height\", \"24px\", \"viewBox\", \"0 -960 960 960\", \"width\", \"24px\"], [\"d\", \"M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z\"], [\"class\", \"searchbar-con\", 4, \"ngIf\"], [1, \"list-group\", \"list-group-flush\", \"list-group-numbered\"], [\"type\", \"button\", \"class\", \"cat-item list-group-item list-group-item-action\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [\"data-toggle\", \"modal\", 1, \"add-cat-btn\", \"btn\", \"btn-primary\", 3, \"click\"], [\"id\", \"categoryModal\", \"tabindex\", \"-1\", \"role\", \"dialog\", 1, \"modal\", \"fade\"], [\"role\", \"document\", 1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [1, \"modal-title\"], [\"type\", \"button\", 1, \"close\", 3, \"click\"], [\"aria-hidden\", \"true\"], [1, \"modal-body\"], [1, \"form-container\"], [1, \"form-group\"], [\"for\", \"catName\"], [\"type\", \"text\", \"list\", \"categoryOptions\", \"id\", \"catName\", \"name\", \"CategoryName\", \"placeholder\", \"QuestPond\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"input\"], [\"for\", \"link\"], [\"type\", \"text\", \"id\", \"link\", \"name\", \"Link\", \"placeholder\", \"https://@info.com\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"description\"], [\"type\", \"text\", \"id\", \"description\", \"name\", \"Description\", \"placeholder\", \"something about category\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"class\", \"modal-footer\", 4, \"ngIf\"], [\"id\", \"categoryOptions\"], [4, \"ngFor\", \"ngForOf\"], [1, \"searchbar-con\"], [\"type\", \"text\", \"placeholder\", \"Enter Keyword\", 1, \"searchbar\", 3, \"ngModel\", \"input\", \"ngModelChange\"], [\"type\", \"button\", 1, \"cat-item\", \"list-group-item\", \"list-group-item-action\", 3, \"click\"], [1, \"modal-footer\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"]],\n    template: function CategoryComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"h4\");\n        i0.ɵɵtext(3, \"CATEGORIES\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function CategoryComponent_Template_button_click_4_listener() {\n          return ctx.onSearchIconClick();\n        });\n        i0.ɵɵnamespaceSVG();\n        i0.ɵɵelementStart(5, \"svg\", 3);\n        i0.ɵɵelement(6, \"path\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(7, CategoryComponent_div_7_Template, 2, 1, \"div\", 5);\n        i0.ɵɵnamespaceHTML();\n        i0.ɵɵelementStart(8, \"div\", 6);\n        i0.ɵɵtemplate(9, CategoryComponent_button_9_Template, 2, 1, \"button\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function CategoryComponent_Template_button_click_10_listener() {\n          return ctx.openModal(\"categoryModal\");\n        });\n        i0.ɵɵtext(11, \"Manage Category\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"div\", 9);\n        i0.ɵɵelementStart(13, \"div\", 10);\n        i0.ɵɵelementStart(14, \"div\", 11);\n        i0.ɵɵelementStart(15, \"div\", 12);\n        i0.ɵɵelementStart(16, \"h5\", 13);\n        i0.ɵɵtext(17, \"Create New Category\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"button\", 14);\n        i0.ɵɵlistener(\"click\", function CategoryComponent_Template_button_click_18_listener() {\n          return ctx.closeModal(\"exampleModal\");\n        });\n        i0.ɵɵelementStart(19, \"span\", 15);\n        i0.ɵɵtext(20, \"\\u00D7\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"div\", 16);\n        i0.ɵɵelementStart(22, \"form\", 17);\n        i0.ɵɵelementStart(23, \"div\", 18);\n        i0.ɵɵelementStart(24, \"label\", 19);\n        i0.ɵɵtext(25, \"Category Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"input\", 20);\n        i0.ɵɵlistener(\"ngModelChange\", function CategoryComponent_Template_input_ngModelChange_26_listener($event) {\n          return ctx.catInfo.CategoryName = $event;\n        })(\"input\", function CategoryComponent_Template_input_input_26_listener() {\n          return ctx.onCatNameInputChange();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"div\", 18);\n        i0.ɵɵelementStart(28, \"label\", 21);\n        i0.ɵɵtext(29, \"Link\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"input\", 22);\n        i0.ɵɵlistener(\"ngModelChange\", function CategoryComponent_Template_input_ngModelChange_30_listener($event) {\n          return ctx.catInfo.Link = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"div\", 18);\n        i0.ɵɵelementStart(32, \"label\", 23);\n        i0.ɵɵtext(33, \"Description\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"input\", 24);\n        i0.ɵɵlistener(\"ngModelChange\", function CategoryComponent_Template_input_ngModelChange_34_listener($event) {\n          return ctx.catInfo.Description = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(35, CategoryComponent_div_35_Template, 3, 0, \"div\", 25);\n        i0.ɵɵtemplate(36, CategoryComponent_div_36_Template, 3, 0, \"div\", 25);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"datalist\", 26);\n        i0.ɵɵtemplate(38, CategoryComponent_option_38_Template, 3, 1, \"option\", 27);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngIf\", ctx.showSearchbar);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.catList);\n        i0.ɵɵadvance(17);\n        i0.ɵɵproperty(\"ngModel\", ctx.catInfo.CategoryName);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.catInfo.Link);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.catInfo.Description);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.actionBtnStatus);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.actionBtnStatus);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.catList);\n      }\n    },\n    directives: [i5.NgIf, i5.NgForOf, i6.ɵNgNoValidate, i6.NgControlStatusGroup, i6.NgForm, i6.DefaultValueAccessor, i6.RequiredValidator, i6.NgControlStatus, i6.NgModel, i6.NgSelectOption, i6.ɵNgSelectMultipleOption],\n    styles: [\".category[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;max-width:100%;max-height:90vh;overflow:hidden;margin:10px;border-top:1px solid #ced4da;border-right:1px solid #ced4da;border-radius:.25rem;scrollbar-width:none}.category[_ngcontent-%COMP%]:hover{overflow:auto}.category[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;margin:0}.cat-item[_ngcontent-%COMP%]{display:block;padding:.25rem 1.5rem;font-weight:500;color:#000000a6}.cat-item[_ngcontent-%COMP%]:hover{color:#000}.add-cat-btn[_ngcontent-%COMP%]{position:fixed;top:93vh;left:20px;height:38px;width:14%;text-wrap:nowrap;background-color:#007bff;border-radius:4px;color:#fff;font-weight:700;font-size:16px}.close[_ngcontent-%COMP%]{position:absolute;top:0px;right:0px;font-size:25px;width:40px;border:none;border-radius:4px;background-color:red;color:#fff;font-weight:700}.close[_ngcontent-%COMP%]:hover{background-color:#4e0e0e;color:#fff}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:5px}.cat-head[_ngcontent-%COMP%]{display:flex}#searchIcon[_ngcontent-%COMP%]{border:none;margin-left:2%;font-weight:bolder}#searchIcon[_ngcontent-%COMP%]:hover{background-color:#faebd7}.searchbar[_ngcontent-%COMP%]{border-radius:3px;border-color:#1f5496}\"]\n  });\n  return CategoryComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}